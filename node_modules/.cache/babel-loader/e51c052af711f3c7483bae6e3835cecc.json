{"ast":null,"code":"var _jsxFileName = \"/Users/michaeldunn-oconnor/Documents/GA/sei/projects/p3/frontend/feedback-loop/src/components/homeview/feed/cards/PostInteractions.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction PostInteractions({\n  id,\n  likes,\n  comments\n}) {\n  _s();\n\n  const [postLikes, setPostLikes] = useState(likes);\n  const [isLiked, setIsLiked] = useState(false);\n  const [addNew, setAddNew] = useState(false);\n  const [commentText, setCommentText] = useState('');\n  console.log('rendered', postLikes);\n\n  const handleClickLike = e => {\n    let thisLike = isLiked;\n    setIsLiked(!thisLike); // (thisLike) ?\n    // e.targetclassName = \"fas fa-heart like-icon\" :\n    // e.targetclassName = \"far fa-heart like-icon\" ;\n\n    let tmp = parseInt(postLikes);\n    let newLikes = thisLike ? tmp - 1 : tmp + 1;\n    setPostLikes(newLikes);\n    axios.put(`http://localhost:4000/posts/${id}`, {\n      likes: newLikes\n    });\n  };\n\n  const handleCommentChange = e => {\n    setCommentText(e.target.value);\n  };\n\n  const createComment = () => {\n    let newComments = comments;\n    newComments.push(commentText);\n    axios.put(`http://localhost:4000/posts/${id}`, {\n      comments: newComments\n    });\n    setAddNew(false);\n    setCommentText('');\n  };\n\n  useEffect(() => {}, [id, postLikes, addNew]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"PostInteractions\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"interactions-div\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"likes-div\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"like-button\",\n          children: /*#__PURE__*/_jsxDEV(\"i\", {\n            onClick: handleClickLike,\n            className: `${isLiked ? \"fas\" : \"far\"} fa-heart like-icon`\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 52,\n            columnNumber: 53\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n          className: \"likes-num\",\n          children: postLikes\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"comment-button\",\n        onClick: () => setAddNew(true),\n        children: \"comment\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"comments-div\",\n      children: [comments.map(comment => {\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"comment-item\",\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"comment-text\",\n            children: comment\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 25\n        }, this);\n      }), addNew && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"comment-item\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \"add comment here\",\n          value: commentText,\n          onChange: handleCommentChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          onClick: createComment,\n          children: \"post\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 49,\n    columnNumber: 9\n  }, this);\n}\n\n_s(PostInteractions, \"R1HvVndVVPlasuZUkzVPH4I57iE=\");\n\n_c = PostInteractions;\nexport default PostInteractions;\n\nvar _c;\n\n$RefreshReg$(_c, \"PostInteractions\");","map":{"version":3,"sources":["/Users/michaeldunn-oconnor/Documents/GA/sei/projects/p3/frontend/feedback-loop/src/components/homeview/feed/cards/PostInteractions.jsx"],"names":["React","useState","useEffect","axios","PostInteractions","id","likes","comments","postLikes","setPostLikes","isLiked","setIsLiked","addNew","setAddNew","commentText","setCommentText","console","log","handleClickLike","e","thisLike","tmp","parseInt","newLikes","put","handleCommentChange","target","value","createComment","newComments","push","map","comment"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\n\nfunction PostInteractions({ id, likes, comments }) {\n\n    const [postLikes, setPostLikes] = useState(likes);\n    const [isLiked, setIsLiked] = useState(false);\n    const [addNew, setAddNew] =useState(false);\n    const [commentText, setCommentText] = useState('');\n    console.log('rendered', postLikes)\n    \n\n    const handleClickLike = (e) => {\n        let thisLike = isLiked;\n        setIsLiked(!thisLike);\n\n        // (thisLike) ?\n        // e.targetclassName = \"fas fa-heart like-icon\" :\n        // e.targetclassName = \"far fa-heart like-icon\" ;\n\n        let tmp = parseInt(postLikes)\n        let newLikes = thisLike ? tmp - 1 : tmp + 1\n        setPostLikes(newLikes)\n        \n        axios.put(`http://localhost:4000/posts/${id}`, {likes: newLikes});\n        \n    }\n\n    const handleCommentChange = (e) => {\n        setCommentText(e.target.value);\n    }\n\n    const createComment = () => {\n        let newComments = comments;\n        newComments.push(commentText);\n\n        axios.put(`http://localhost:4000/posts/${id}`, {comments: newComments});\n\n        setAddNew(false);\n        setCommentText('');\n    }\n    \n\n\n    useEffect(() => {\n    }, [id, postLikes, addNew])\n\n    return (\n        <div className='PostInteractions'>\n            <div className='interactions-div'>\n                <div className='likes-div'>\n                    <button className='like-button'><i onClick={handleClickLike} className={`${(isLiked) ? \"fas\" : \"far\"} fa-heart like-icon`}></i></button>\n                    <h4 className='likes-num'>{postLikes}</h4>\n                </div>\n                <button className='comment-button' onClick={() => setAddNew(true)} >comment</button>\n            </div>\n            \n            <hr />\n            <div className='comments-div'>\n                {comments.map((comment)=> {\n                    return (\n                        <div className='comment-item'>\n                            <p className='comment-text'>{comment}</p>\n                        </div>\n                    )\n                })}\n                {addNew &&\n                    <div className='comment-item'>\n                        <input type='text' placeholder='add comment here' value={commentText} onChange={handleCommentChange} />\n                        <button type='button' onClick={createComment}>post</button>\n                    </div>\n                }\n            </div>\n            \n            \n        </div>\n    );\n}\n\nexport default PostInteractions;"]},"metadata":{},"sourceType":"module"}