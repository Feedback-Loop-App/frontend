{"ast":null,"code":"var _jsxFileName = \"/Users/michaeldunn-oconnor/Documents/GA/sei/projects/p3/frontend/feedback-loop/src/components/homeview/feed/cards/PostInteractions.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport Comment from './Comment';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction PostInteractions({\n  id,\n  likes,\n  comments\n}) {\n  _s();\n\n  const [postLikes, setPostLikes] = useState(likes);\n  const [isLiked, setIsLiked] = useState(false);\n  const [addNew, setAddNew] = useState(false);\n  const [commentText, setCommentText] = useState('');\n\n  const handleClickLike = e => {\n    let thisLike = isLiked;\n    setIsLiked(!thisLike); // (thisLike) ?\n    // e.targetclassName = \"fas fa-heart like-icon\" :\n    // e.targetclassName = \"far fa-heart like-icon\" ;\n\n    let tmp = parseInt(postLikes);\n    let newLikes = thisLike ? tmp - 1 : tmp + 1;\n    setPostLikes(newLikes);\n    axios.put(`http://localhost:4000/posts/${id}`, {\n      likes: newLikes\n    });\n  };\n\n  const handleCommentChange = e => {\n    setCommentText(e.target.value);\n  };\n\n  const createComment = () => {\n    let newComments = comments;\n    newComments.push(commentText);\n    axios.put(`http://localhost:4000/posts/${id}`, {\n      comments: newComments\n    });\n    setAddNew(false);\n    setCommentText('');\n  };\n\n  useEffect(() => {}, [id, postLikes, addNew]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"PostInteractions\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"interactions-div\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"likes-div\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"like-button\",\n          children: /*#__PURE__*/_jsxDEV(\"i\", {\n            onClick: handleClickLike,\n            className: `${isLiked ? \"fas\" : \"far\"} fa-heart like-icon`\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 52,\n            columnNumber: 53\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n          className: \"likes-num\",\n          children: postLikes\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"comment-button\",\n        onClick: () => setAddNew(true),\n        children: \"comment\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"comments-div\",\n      children: [comments.map(comment => {\n        return /*#__PURE__*/_jsxDEV(Comment, {\n          comment: comment\n        }, id + '-comment-' + (comments.indexOf(comment) + 1), false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 28\n        }, this);\n      }), addNew && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"comment-item\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \"add comment here\",\n          value: commentText,\n          onChange: handleCommentChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          onClick: createComment,\n          children: \"post\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 49,\n    columnNumber: 9\n  }, this);\n}\n\n_s(PostInteractions, \"R1HvVndVVPlasuZUkzVPH4I57iE=\");\n\n_c = PostInteractions;\nexport default PostInteractions;\n\nvar _c;\n\n$RefreshReg$(_c, \"PostInteractions\");","map":{"version":3,"sources":["/Users/michaeldunn-oconnor/Documents/GA/sei/projects/p3/frontend/feedback-loop/src/components/homeview/feed/cards/PostInteractions.jsx"],"names":["React","useState","useEffect","axios","Comment","PostInteractions","id","likes","comments","postLikes","setPostLikes","isLiked","setIsLiked","addNew","setAddNew","commentText","setCommentText","handleClickLike","e","thisLike","tmp","parseInt","newLikes","put","handleCommentChange","target","value","createComment","newComments","push","map","comment","indexOf"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport Comment from './Comment';\n\nfunction PostInteractions({ id, likes, comments }) {\n\n    const [postLikes, setPostLikes] = useState(likes);\n    const [isLiked, setIsLiked] = useState(false);\n    const [addNew, setAddNew] =useState(false);\n    const [commentText, setCommentText] = useState('');\n    \n\n    const handleClickLike = (e) => {\n        let thisLike = isLiked;\n        setIsLiked(!thisLike);\n\n        // (thisLike) ?\n        // e.targetclassName = \"fas fa-heart like-icon\" :\n        // e.targetclassName = \"far fa-heart like-icon\" ;\n\n        let tmp = parseInt(postLikes)\n        let newLikes = thisLike ? tmp - 1 : tmp + 1\n        setPostLikes(newLikes)\n        \n        axios.put(`http://localhost:4000/posts/${id}`, {likes: newLikes});\n        \n    }\n\n    const handleCommentChange = (e) => {\n        setCommentText(e.target.value);\n    }\n\n    const createComment = () => {\n        let newComments = comments;\n        newComments.push(commentText);\n\n        axios.put(`http://localhost:4000/posts/${id}`, {comments: newComments});\n\n        setAddNew(false);\n        setCommentText('');\n    }\n    \n\n\n    useEffect(() => {\n    }, [id, postLikes, addNew])\n\n    return (\n        <div className='PostInteractions'>\n            <div className='interactions-div'>\n                <div className='likes-div'>\n                    <button className='like-button'><i onClick={handleClickLike} className={`${(isLiked) ? \"fas\" : \"far\"} fa-heart like-icon`}></i></button>\n                    <h4 className='likes-num'>{postLikes}</h4>\n                </div>\n                <button className='comment-button' onClick={() => setAddNew(true)} >comment</button>\n            </div>\n            \n            <hr />\n            <div className='comments-div'>\n                {comments.map((comment)=> {\n                    return <Comment key={id + '-comment-' + (comments.indexOf(comment) + 1)}comment={comment} />\n                })}\n                {addNew &&\n                    <div className='comment-item'>\n                        <input type='text' placeholder='add comment here' value={commentText} onChange={handleCommentChange} />\n                        <button type='button' onClick={createComment}>post</button>\n                    </div>\n                }\n            </div>\n            \n            \n        </div>\n    );\n}\n\nexport default PostInteractions;"]},"metadata":{},"sourceType":"module"}